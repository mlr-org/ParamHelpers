<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generates a statistical design for a parameter set. — generateDesign • ParamHelpers</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<link href="../extra.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generates a statistical design for a parameter set. — generateDesign" />
<meta property="og:description" content="The following types of columns are created:
numeric(vector)numeric
integer(vector)integer
discrete(vector)factor (names of values = levels)
logical(vector)logical

If you want to convert these, look at BBmisc::convertDataFrameCols().
Dependent parameters whose constraints are unsatisfied generate NA entries in their
respective columns.
For discrete vectors the levels and their order will be preserved, even if not all levels are present.
Currently only lhs designs are supported.
The algorithm currently iterates the following steps:
We create a space filling design for all parameters, disregarding requires,
a trafo or the forbidden region.
Forbidden points are removed.
Parameters are trafoed (potentially, depending on the setting of argument trafo);
dependent parameters whose constraints are unsatisfied are set to NA entries.
Duplicated design points are removed. Duplicated points are not generated in a
reasonable space-filling design, but the way discrete parameters and also parameter dependencies
are handled make this possible.
If we removed some points, we now try to augment the design in a space-filling way
and iterate.


Note that augmenting currently is somewhat experimental as we simply generate
missing points via new calls to lhs::randomLHS(), but do not add points so
they are maximally far away from the already present ones. The reason is that
the latter is quite hard to achieve with complicated dependencies and
forbidden regions, if one wants to ensure that points actually get added...
But we are working on it.
Note that if you have trafos attached to your params, the complete creation
of the design (except for the detection of invalid parameters w.r.t to their
requires setting) takes place on the UNTRANSFORMED scale. So this function
creates, e.g., a maximin LHS design on the UNTRANSFORMED scale, but not
necessarily the transformed scale.
generateDesign will NOT work if there are dependencies over multiple levels
of parameters and the dependency is only given with respect to the
&amp;#8220;previous&amp;#8221; parameter. A current workaround is to state all
dependencies on all parameters involved. (We are working on it.)" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://mlr-org.com"><img src="https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png" id="hexlogo" alt="mlr-org" /></a>
        <a class="navbar-brand" href="../index.html">ParamHelpers <small>v1.14</small></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/mlr-org/ParamHelpers/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite">
    <span class="fa fa fa fa-comments"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fab fa fab fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generates a statistical design for a parameter set.</h1>
    <small class="dont-index">Source: <a href='https://github.com/mlr-org/ParamHelpers/blob/master/R/generateDesign.R'><code>R/generateDesign.R</code></a></small>
    <div class="hidden name"><code>generateDesign.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The following types of columns are created:</p><table class='table'>
<tr><td>numeric(vector)</td><td><code>numeric</code></td></tr>
<tr><td>integer(vector)</td><td><code>integer</code></td></tr>
<tr><td>discrete(vector)</td><td><code>factor</code> (names of values = levels)</td></tr>
<tr><td>logical(vector)</td><td><code>logical</code></td></tr>
</table>
<p>If you want to convert these, look at <code><a href='https://rdrr.io/pkg/BBmisc/man/convertDataFrameCols.html'>BBmisc::convertDataFrameCols()</a></code>.
Dependent parameters whose constraints are unsatisfied generate <code>NA</code> entries in their
respective columns.
For discrete vectors the levels and their order will be preserved, even if not all levels are present.</p>
<p>Currently only lhs designs are supported.</p>
<p>The algorithm currently iterates the following steps:</p><ol>
<li><p>We create a space filling design for all parameters, disregarding <code>requires</code>,
a <code>trafo</code> or the forbidden region.</p></li>
<li><p>Forbidden points are removed.</p></li>
<li><p>Parameters are trafoed (potentially, depending on the setting of argument <code>trafo</code>);
dependent parameters whose constraints are unsatisfied are set to <code>NA</code> entries.</p></li>
<li><p>Duplicated design points are removed. Duplicated points are not generated in a
reasonable space-filling design, but the way discrete parameters and also parameter dependencies
are handled make this possible.</p></li>
<li><p>If we removed some points, we now try to augment the design in a space-filling way
and iterate.</p></li>
</ol>

<p>Note that augmenting currently is somewhat experimental as we simply generate
missing points via new calls to <code><a href='https://rdrr.io/pkg/lhs/man/randomLHS.html'>lhs::randomLHS()</a></code>, but do not add points so
they are maximally far away from the already present ones. The reason is that
the latter is quite hard to achieve with complicated dependencies and
forbidden regions, if one wants to ensure that points actually get added...
But we are working on it.</p>
<p>Note that if you have trafos attached to your params, the complete creation
of the design (except for the detection of invalid parameters w.r.t to their
<code>requires</code> setting) takes place on the UNTRANSFORMED scale. So this function
creates, e.g., a maximin LHS design on the UNTRANSFORMED scale, but not
necessarily the transformed scale.</p>
<p><code>generateDesign</code> will NOT work if there are dependencies over multiple levels
of parameters and the dependency is only given with respect to the
&#8220;previous&#8221; parameter. A current workaround is to state all
dependencies on all parameters involved. (We are working on it.)</p>
    </div>

    <pre class="usage"><span class='fu'>generateDesign</span>(
  <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>10L</span>,
  <span class='no'>par.set</span>,
  <span class='no'>fun</span>,
  <span class='kw'>fun.args</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(),
  <span class='kw'>trafo</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>augment</span> <span class='kw'>=</span> <span class='fl'>20L</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>n</th>
      <td><p>(<code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code>)<br />
Number of samples in design.
Default is 10.</p></td>
    </tr>
    <tr>
      <th>par.set</th>
      <td><p><a href='makeParamSet.html'>ParamSet</a><br />
Parameter set.</p></td>
    </tr>
    <tr>
      <th>fun</th>
      <td><p>(<code>function</code>)<br />
Function from package lhs.
Possible are: <code><a href='https://rdrr.io/pkg/lhs/man/maximinLHS.html'>lhs::maximinLHS()</a></code>, <code><a href='https://rdrr.io/pkg/lhs/man/randomLHS.html'>lhs::randomLHS()</a></code>,
<code><a href='https://rdrr.io/pkg/lhs/man/geneticLHS.html'>lhs::geneticLHS()</a></code>, <code><a href='https://rdrr.io/pkg/lhs/man/improvedLHS.html'>lhs::improvedLHS()</a></code>, <code><a href='https://rdrr.io/pkg/lhs/man/optAugmentLHS.html'>lhs::optAugmentLHS()</a></code>,
<code><a href='https://rdrr.io/pkg/lhs/man/optimumLHS.html'>lhs::optimumLHS()</a></code>
Default is <code><a href='https://rdrr.io/pkg/lhs/man/randomLHS.html'>lhs::randomLHS()</a></code>.</p></td>
    </tr>
    <tr>
      <th>fun.args</th>
      <td><p>(<code>list</code>)<br />
List of further arguments passed to <code>fun</code>.</p></td>
    </tr>
    <tr>
      <th>trafo</th>
      <td><p>(<code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code>)<br />
Transform all parameters by using theirs respective transformation
functions. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>augment</th>
      <td><p>(<code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code>)<br />
Duplicated values and forbidden regions in the parameter space can lead to
the design becoming smaller than <code>n</code>. With this option it is possible to
augment the design again to size <code>n</code>. It is not guaranteed that this always
works (to full size) and <code>augment</code> specifies the number of tries to
augment. If the the design is of size less than <code>n</code> after all tries, a
warning is issued and the smaller design is returned. Default is 20.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a>. Columns are named by the ids of the parameters. If the
<code>par.set</code> argument contains a vector parameter, its corresponding column
names in the design are the parameter id concatenated with 1 to dimension
of the vector. The result will have an <code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code> attribute
&#8220;trafo&#8221;, which is set to the value of argument <code>trafo</code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>ps</span> <span class='kw'>=</span> <span class='fu'><a href='makeParamSet.html'>makeParamSet</a></span>(
  <span class='fu'><a href='Param.html'>makeNumericParam</a></span>(<span class='st'>"x1"</span>, <span class='kw'>lower</span> <span class='kw'>=</span> -<span class='fl'>2</span>, <span class='kw'>upper</span> <span class='kw'>=</span> <span class='fl'>1</span>),
  <span class='fu'><a href='Param.html'>makeIntegerParam</a></span>(<span class='st'>"x2"</span>, <span class='kw'>lower</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>upper</span> <span class='kw'>=</span> <span class='fl'>20</span>)
)
<span class='co'># random latin hypercube design with 5 samples:</span>
<span class='fu'>generateDesign</span>(<span class='fl'>5</span>, <span class='no'>ps</span>)</div><div class='output co'>#&gt;            x1 x2
#&gt; 1  0.92476040 14
#&gt; 2 -1.97945520 10
#&gt; 3  0.04139694 12
#&gt; 4 -0.55787713 16
#&gt; 5 -1.16677921 20</div><div class='input'>
<span class='co'># with trafo</span>
<span class='no'>ps</span> <span class='kw'>=</span> <span class='fu'><a href='makeParamSet.html'>makeParamSet</a></span>(
  <span class='fu'><a href='Param.html'>makeNumericParam</a></span>(<span class='st'>"x"</span>, <span class='kw'>lower</span> <span class='kw'>=</span> -<span class='fl'>2</span>, <span class='kw'>upper</span> <span class='kw'>=</span> <span class='fl'>1</span>),
  <span class='fu'><a href='Param.html'>makeNumericVectorParam</a></span>(<span class='st'>"y"</span>, <span class='kw'>len</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>lower</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>upper</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>trafo</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>x</span>) <span class='no'>x</span> / <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span>(<span class='no'>x</span>))
)
<span class='fu'>generateDesign</span>(<span class='fl'>10</span>, <span class='no'>ps</span>, <span class='kw'>trafo</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;              x         y1         y2
#&gt; 1  -0.06164406 0.07021103 0.92978897
#&gt; 2  -0.94052794 0.46482035 0.53517965
#&gt; 3  -1.93874650 0.90117318 0.09882682
#&gt; 4   0.20626204 0.44527728 0.55472272
#&gt; 5  -1.52898651 0.39375021 0.60624979
#&gt; 6   0.75745541 0.91641603 0.08358397
#&gt; 7   0.56338102 0.43994502 0.56005498
#&gt; 8  -1.28854664 0.31894308 0.68105692
#&gt; 9  -0.38299058 0.41814615 0.58185385
#&gt; 10 -0.63202615 0.51549263 0.48450737</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Bernd Bischl, Michel Lang, Jakob Richter, Jakob Bossek, Daniel Horn, Pascal Kerschke.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


